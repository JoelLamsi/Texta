@using Texta.Utils

<div style="padding: 12px; border-radius: 6px; border: 1px solid #ddd;">
    @{
        var ratio = ContrastUtils.CalculateContrastRatio(TextColor, BackgroundColor);
        var ratioStr = ratio.HasValue ? ratio.Value.ToString("0.00") : "virhe";
        var aaNormal = ContrastUtils.PassesAA(ratio ?? 0, isLargeText: false);
        var aaLarge = ContrastUtils.PassesAA(ratio ?? 0, isLargeText: true);
        var aaaNormal = ContrastUtils.PassesAAA(ratio ?? 0, isLargeText: false);
    }
    <div><strong>Kontrastisuhde:</strong>@ratioStr : 1</div>
    <div style="margin-top: 6px;">
        <span>AA (normaali teksti, &lt; 18px): @(aaNormal ? "Läpäisee" : "Ei läpäise")</span><br />
        <span>AA (iso teksti, &gt;= 18px): @(aaLarge ? "Läpäisee" : "Ei läpäise")</span><br />
        <span>AAA (normaali): @(aaaNormal ? "Läpäisee" : "Ei läpäise")</span>
    </div>
    <div style="margin-top: 8px;">
        <small>WGAC-kynnykset: AA normaali &gt;= 4.5, AA iso &gt;= 3.0, AAA normaali &gt;= 7.0</small>
    </div>
</div>

@code {
    [Parameter] public string TextColor { get; set; } = "#000000";
    [Parameter] public string BackgroundColor { get; set; } = "#ffffff";
    [Parameter] public int FontSize { get; set; } = 16;
}
