@page "/"
@using Texta.Utils
@using Texta.Shared

<PageTitle>Saavutettavuustesti</PageTitle>

<h1>Saavutettavuustesti</h1>

<div class="grid"
    <div>
        <label>Tekstin väri</label>
        <ColorPicker Color="@TextColor" OnColorChanged="@(c => TextColor = c)" />

        <label class="margin-top">Taustaväri</label>
        <ColorPicker Color="@BackgroundColor" OnColorChanged="@(c => BackgroundColor = c)" />

        <label class="margin-top">Fontin koko (px)</label>
        <div class="font-size-container">
            <input type="range" min="10" max="48" @bind="FontSize" @bind:event="oninput" />
            <span>@FontSize px</span>
        </div>
        
        <label class="margin-top">Teksti (esikatselu)</label>
        <textarea rows="3" style="width: 100%;" @bind="PreviewText"></textarea>

        <button class="margin-top" @onclick="CopyExample">Täytä esimerkillä</button>
    </div>

    <div class="preview-box" style="background-color: @BackgroundColor; color: @TextColor; 
                  font-size: @($"{FontSize}px");">
        <p>@PreviewText</p>
    </div>
    <div class="margin-top">
        <ContrastResult TextColor="@TextColor" BackgroundColor="@BackgroundColor" FontSize="@FontSize" />
    </div>
</div>

@code {
    private string TextColor { get; set; } = "#000000";
    private string BackgroundColor { get; set; } = "#ffffff";
    private int FontSize { get; set; } = 16;
    private string PreviewText { get; set; } = "Tämä on esimerkkiteksti. Muuta väriä, taustaa ja fonttia nähdäksesi muutokset kontrastissa.";

    private void CopyExample()
    {
        PreviewText = "Tämä on esimerkkiteksti. Muuta väriä, taustaa ja fonttia nähdäksesi muutokset kontrastissa.";
    }
}